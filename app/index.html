<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>HiGlass</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles/page.css">
  <link rel="stylesheet" href="hglib.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.4.2/umd/react.development.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.4.2/umd/react-dom.development.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.8.1/pixi.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-bootstrap/0.32.1/react-bootstrap.js"></script>
</head>
<body >
  <div
    id="demo"
    style="position: absolute; left: 1rem; top: 1rem; bottom: 1rem; right: 1rem">
  </div>
</body>
<script src='hglib.js'></script>
<script>

const viewConfig = {
  editable: false,
  zoomFixed: false,
  trackSourceServers: ['http://higlass.io/api/v1'],
  exportViewUrl: 'http://higlass.io/api/v1/viewconfs/',
  views: [
    {
      uid: 'aa',
      // initialXDomain: [2775500000, 2835000000],
      initialXDomain: [2816314930.905474, 2816320196.5204983],
      autocompleteSource: 'http://higlass.io/api/v1/suggest/?d=OHJakQICQD6gTD7skx4EWA&',
      genomePositionSearchBoxVisible: false,
      chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
      tracks: {
        top: [
          {
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'OHJakQICQD6gTD7skx4EWA',
            uid: 'genes1',
            type: 'horizontal-gene-annotations',
            options: { labelPosition: 'hidden', showMousePosition: true },
          },
          {
            chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
            type: 'horizontal-chromosome-labels',
            uid: 'chroms1',
            options: { showMousePosition: true },
          },
          {
            server: '//localhost:5000/api/v1',
            tilesetUid: 's1p',
            uid: '???',
            type: 'horizontal-1d-heatmap',
            options: {
              colorRange: [
                '#f2f2f2',
                '#f2f2f2',
                '#f2f2f2',
                '#f2f2f2',
                '#bac8e2',
                '#7494c5',
                '#0064a8',
              ],
              labelPosition: 'hidden',
              showMousePosition: true,
              mousePositionColor: '#000000',
              valueScaleMin: 0,
              valueScaleMax: 1,
              showTooltip: true,
            },
            height: 12
          },
          {
            uid: 'c1',
            type: 'combined',
            height: 120,
            contents: [
              {
                server: '//localhost:5000/api/v1',
                tilesetUid: 'encode-gm12878-2011-chip-seq-h3k27ac-pval',
                uid: 'ground-truth',
                type: 'horizontal-bar',
                options: {
                  axisPositionHorizontal: 'left',
                  barFillColor: '#0f5d92',
                  labelPosition: 'hidden',
                  showMousePosition: true,
                  mousePositionColor: '#000000',
                  showTooltip: true,
                },
              },
              {
                server: '//localhost:5000/api/v1',
                tilesetUid: 's1ae',
                uid: 'autoencoded',
                type: 'horizontal-bar',
                options: {
                  axisPositionHorizontal: 'right',
                  barFillColor: '#f387c6',
                  barOpacity: 0.5,
                  labelPosition: 'hidden',
                  showMousePosition: false,
                  showTooltip: true,
                  valueScaleMin: 0,
                  valueScaleMax: 1,
                },
              },
            ]
          }
        ],
        left: [],
        center: [],
        right: [],
        bottom: [],
        whole: [],
        gallery: []
      },
      layout: {
        w: 12,
        h: 12,
        x: 0,
        y: 0,
        i: 'aa',
      },
    }
  ],
};

const hgApi = hglib.viewer(
  document.getElementById('demo'), viewConfig, { bounded: true },
);

// hgApi.on('mouseMoveZoom', ({ center }) => { console.log(center); });

</script>
</html>
